<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Pr√°ctico TANGO STOCK</title>
    <style>
        /* --- ESTILOS GENERALES TANGO AI --- */
        body { font-family: 'Segoe UI', Roboto, Arial, sans-serif; background-color: #f0f2f5; margin: 0; padding: 0; color: #333; height: 100vh; overflow: hidden; }
        
        /* Barra Superior Global */
        .top-bar { background: #fff; height: 48px; border-bottom: 1px solid #ddd; display: flex; align-items: center; padding: 0 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .logo { font-weight: bold; font-size: 20px; color: #2b579a; margin-right: 20px; cursor: pointer; }
        .breadcrumb { color: #777; font-size: 14px; }
        
        /* Contenedores de Vistas */
        .view-section { display: none; height: calc(100vh - 50px); overflow-y: auto; padding: 20px; box-sizing: border-box; }
        .view-section.active { display: block; }

        /* --- VISTA MENU PRINCIPAL --- */
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; max-width: 1000px; margin: 40px auto; }
        .menu-card { background: white; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .menu-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); border-color: #5c7cfa; }
        .card-header { background: #f8f9fa; padding: 15px; border-bottom: 1px solid #eee; font-weight: bold; color: #2b579a; display: flex; justify-content: space-between; }
        .card-body { padding: 20px; color: #555; font-size: 14px; line-height: 1.5; }
        .card-badge { background: #e9ecef; color: #495057; padding: 3px 8px; border-radius: 10px; font-size: 11px; }
        .card-footer { padding: 15px; background: white; border-top: 1px solid #eee; text-align: right; }
        .btn-start { background: #2b579a; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 500; }
        .btn-start:hover { background: #1d4075; }

        /* --- ESTILOS FORMULARIOS TANGO (Vistas Ejercicios) --- */
        .tango-container { background: #fff; border: 1px solid #ddd; box-shadow: 0 2px 5px rgba(0,0,0,0.05); max-width: 900px; margin: 0 auto; border-radius: 4px; overflow: hidden; }
        .entity-header { padding: 15px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .entity-title { font-size: 16px; font-weight: 600; color: #333; }
        .action-bar { padding: 10px 20px; background: #fff; border-bottom: 1px solid #ddd; display: flex; gap: 5px; }
        
        .btn { padding: 6px 12px; border: 1px solid transparent; cursor: pointer; font-size: 13px; border-radius: 3px; font-weight: 500; }
        .btn-accept { background-color: #28a745; color: white; }
        .btn-cancel { background-color: #dc3545; color: white; }
        .btn-toolbar { background: #fff; border: 1px solid #ccc; color: #333; }
        
        .tabs { display: flex; border-bottom: 1px solid #ddd; background: #f9f9f9; padding-left: 10px; margin-top: 10px; }
        .tab { padding: 8px 15px; cursor: pointer; color: #666; border-bottom: 2px solid transparent; }
        .tab.active { background: #fff; color: #2b579a; border-bottom: 2px solid #2b579a; font-weight: 600; }

        .form-content { padding: 20px; }
        .form-row { margin-bottom: 15px; }
        .form-label { display: block; margin-bottom: 5px; font-weight: 500; color: #555; font-size: 13px; }
        .form-input, .form-select { width: 100%; max-width: 400px; padding: 6px; border: 1px solid #ccc; border-radius: 2px; font-size: 13px; box-sizing: border-box; }
        .form-input:disabled { background: #f0f0f0; color: #888; }
        
        .check-group { margin-top: 10px; }
        .check-item { margin-bottom: 8px; display: flex; align-items: center; font-size: 13px; }
        .check-input { margin-right: 8px; }

        /* Modal Feedback */
        .modal-overlay { position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 1000; }
        .modal-box { background: white; padding: 25px; border-radius: 8px; width: 400px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); text-align: center; }
        .modal-icon { font-size: 40px; margin-bottom: 10px; display: block; }
        .modal-title { font-weight: bold; font-size: 18px; margin-bottom: 10px; color: #333; }
        .modal-body { margin-bottom: 20px; font-size: 14px; color: #555; line-height: 1.4; }
        .modal-footer button { margin: 0 5px; }

        /* Estilos espec√≠ficos ventana flotante (Ejercicio 3) */
        .window-frame { width: 100%; max-width: 850px; background: #fff; border: 1px solid #aaa; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-radius: 4px; margin: 0 auto; }
        .window-title-bar { background: linear-gradient(to bottom, #e6efff 0%, #d0e0ff 100%); padding: 8px 10px; border-bottom: 1px solid #b0c0d0; display: flex; justify-content: space-between; border-radius: 4px 4px 0 0; }
        .grid-container { border: 1px solid #999; background: #fff; margin-top: 15px; }
        .grid-row { display: flex; border-bottom: 1px solid #eee; }
        .grid-col { padding: 5px; border-right: 1px solid #eee; font-size: 12px; }
        .grid-header { background: #f0f0f0; font-weight: bold; }
    </style>
</head>
<body>

    <!-- BARRA SUPERIOR -->
    <div class="top-bar">
        <div class="logo" onclick="showMenu()">TANGO <span style="font-size:12px;color:#888">AI</span></div>
        <div class="breadcrumb" id="navText">Simulador de Pr√°ctica / Inicio</div>
    </div>

    <!-- MEN√ö PRINCIPAL -->
    <div id="menuView" class="view-section active">
        <div style="text-align:center; margin-top:20px;">
            <h2 style="color:#2b579a;">Ejercicios de Pr√°ctica: M√≥dulo Stock</h2>
            <p style="color:#666;">Seleccione un nivel para comenzar la simulaci√≥n.</p>
        </div>

        <div class="menu-grid">
            <!-- Nivel 1 -->
            <div class="menu-card" onclick="startLevel(1)">
                <div class="card-header">Nivel 1: Comprobantes <span class="card-badge">B√°sico</span></div>
                <div class="card-body">
                    Configure un comprobante de "Muestras Gratis".<br>
                    <strong>Objetivo:</strong> Ingresar stock sin afectar costos.
                </div>
                <div class="card-footer"><button class="btn-start">Comenzar</button></div>
            </div>

            <!-- Nivel 2 -->
            <div class="menu-card" onclick="startLevel(2)">
                <div class="card-header">Nivel 2: Talonarios <span class="card-badge">Intermedio</span></div>
                <div class="card-body">
                    Configure un talonario para movimientos internos.<br>
                    <strong>Objetivo:</strong> Control de numeraci√≥n autom√°tica (Letra X).
                </div>
                <div class="card-footer"><button class="btn-start">Comenzar</button></div>
            </div>

            <!-- Nivel 3 -->
            <div class="menu-card" onclick="startLevel(3)">
                <div class="card-header">Nivel 3: Operaci√≥n <span class="card-badge">Avanzado</span></div>
                <div class="card-body">
                    Realice el ingreso de una compra.<br>
                    <strong>Objetivo:</strong> Selecci√≥n correcta de dep√≥sitos y comprobantes valorizados.
                </div>
                <div class="card-footer"><button class="btn-start">Comenzar</button></div>
            </div>
        </div>
    </div>

    <!-- EJERCICIO 1 -->
    <div id="level1" class="view-section">
        <div class="tango-container">
            <div class="entity-header">
                <div class="entity-title">üìÑ Tipos de comprobante: NUEVO</div>
                <small style="color:#666">Consigna: Configurar Ingreso de Muestras (Sin costo)</small>
            </div>
            <div class="action-bar">
                <button class="btn btn-accept" onclick="checkLevel1()">Aceptar</button>
                <button class="btn btn-cancel" onclick="showMenu()">Cancelar</button>
            </div>
            <div class="tabs">
                <div class="tab active">Principal</div>
                <div class="tab">Observaciones</div>
            </div>
            <div class="form-content">
                <div class="form-row"><label class="form-label">C√≥digo</label><input class="form-input" value="MUE" disabled></div>
                <div class="form-row"><label class="form-label">Descripci√≥n</label><input class="form-input" value="MUESTRAS GRATIS"></div>
                <div class="form-row">
                    <label class="form-label">Tipo de movimiento</label>
                    <select id="l1_mov" class="form-select">
                        <option value="0">Seleccione...</option>
                        <option value="E">Entrada</option>
                        <option value="S">Salida</option>
                    </select>
                </div>
                <div class="check-group">
                    <div class="check-item"><input type="checkbox" id="l1_val" class="check-input"><label>Valorizado</label></div>
                    <div class="check-item"><input type="checkbox" checked class="check-input"><label>Admite reingreso de serie</label></div>
                </div>
            </div>
        </div>
    </div>

    <!-- EJERCICIO 2 -->
    <div id="level2" class="view-section">
        <div class="tango-container">
            <div class="entity-header">
                <div class="entity-title">üî¢ Talonarios: 50, AJUSTES INTERNOS</div>
                <small style="color:#666">Consigna: Numeraci√≥n autom√°tica para uso interno</small>
            </div>
            <div class="action-bar">
                <button class="btn btn-accept" onclick="checkLevel2()">Aceptar</button>
                <button class="btn btn-cancel" onclick="showMenu()">Cancelar</button>
            </div>
            <div class="tabs"><div class="tab active">Principal</div><div class="tab">Impresi√≥n</div></div>
            <div class="form-content">
                <div class="form-row"><label class="form-label">C√≥digo</label><input class="form-input" value="50" disabled style="width:50px"></div>
                <div class="form-row">
                    <label class="form-label">Tipo de Talonario / Letra</label>
                    <select id="l2_letra" class="form-select">
                        <option value="0">...</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="X">X</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="check-item"><input type="checkbox" id="l2_edita" class="check-input"><label>Edita n√∫mero de comprobante</label></div>
                </div>
                <div style="margin-top:20px; border-top:1px solid #eee; padding-top:10px">
                    <strong style="color:#2b579a; font-size:12px">Numeraci√≥n</strong>
                    <div style="display:flex; gap:10px; margin-top:10px">
                        <div style="flex:1"><label class="form-label">Pr√≥ximo nro</label><input id="l2_prox" type="number" class="form-input" placeholder="Ej: 1"></div>
                        <div style="flex:1"><label class="form-label">√öltimo nro</label><input value="100000" disabled class="form-input"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- EJERCICIO 3 -->
    <div id="level3" class="view-section">
        <div class="window-frame">
            <div class="window-title-bar">
                <div style="font-weight:bold; font-size:12px; color:#333">üñ• INGRESOS DE STOCK (SUPERVISOR)</div>
                <div style="display:flex; gap:5px"><span style="width:10px;height:10px;background:#ccc;border-radius:50%"></span></div>
            </div>
            <div style="padding:5px; background:#fcfcfc; border-bottom:1px solid #ddd; display:flex; gap:15px">
                <button class="btn btn-accept" onclick="checkLevel3()">‚úî (F10)</button>
                <button class="btn btn-cancel" onclick="showMenu()">‚úñ Cancelar</button>
            </div>
            <div style="padding:15px; min-height:300px">
                <small style="display:block; margin-bottom:10px; background:#eef; padding:5px; border-radius:3px; color:#333">Consigna: Ingrese compra de mercader√≠a al dep√≥sito Central.</small>
                
                <div style="display:flex; gap:20px; margin-bottom:20px">
                    <div>
                        <label class="form-label">Comprobante</label>
                        <select id="l3_comp" class="form-select" style="width:100px">
                            <option value="">...</option>
                            <option value="AJU">AJU</option>
                            <option value="FAC">FAC</option>
                        </select>
                    </div>
                    <div>
                        <label class="form-label">Dep√≥sito</label>
                        <input id="l3_dep" class="form-input" style="width:50px" placeholder="00">
                    </div>
                </div>

                <div class="grid-container">
                    <div class="grid-row grid-header">
                        <div class="grid-col" style="width:100px">C√≥digo</div>
                        <div class="grid-col" style="flex:1">Descripci√≥n</div>
                        <div class="grid-col" style="width:60px">Cant.</div>
                    </div>
                    <div class="grid-row">
                        <div class="grid-col" style="width:100px">HEL-001</div>
                        <div class="grid-col" style="flex:1">Heladera Samsung</div>
                        <div class="grid-col" style="width:60px"><input id="l3_cant" type="number" style="width:100%; border:none" placeholder="0"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL FEEDBACK -->
    <div id="overlay" class="modal-overlay">
        <div class="modal-box">
            <span id="mIcon" class="modal-icon"></span>
            <div id="mTitle" class="modal-title"></div>
            <div id="mBody" class="modal-body"></div>
            <div class="modal-footer">
                <button class="btn btn-toolbar" onclick="closeModal()">Cerrar</button>
                <button id="btnBackMenu" class="btn btn-start" style="display:none" onclick="closeModal(); showMenu()">Volver al Men√∫</button>
            </div>
        </div>
    </div>

    <script>
        // --- NAVEGACION ---
        function hideAll() {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
        }
        function showMenu() {
            hideAll();
            document.getElementById('menuView').classList.add('active');
            document.getElementById('navText').innerText = "Simulador de Pr√°ctica / Inicio";
        }
        function startLevel(lvl) {
            hideAll();
            document.getElementById('level'+lvl).classList.add('active');
            let title = "";
            if(lvl==1) title = "Configuraci√≥n Comprobante";
            if(lvl==2) title = "Configuraci√≥n Talonario";
            if(lvl==3) title = "Operaci√≥n de Stock";
            document.getElementById('navText').innerText = "Simulador / Nivel " + lvl + ": " + title;
            resetInputs(lvl);
        }

        function resetInputs(lvl) {
            // Limpia los inputs al entrar para reintentar
            if(lvl==1) { document.getElementById('l1_mov').value = '0'; document.getElementById('l1_val').checked = false; }
            if(lvl==2) { document.getElementById('l2_letra').value = '0'; document.getElementById('l2_edita').checked = false; document.getElementById('l2_prox').value = ''; }
            if(lvl==3) { document.getElementById('l3_comp').value = ''; document.getElementById('l3_dep').value = ''; document.getElementById('l3_cant').value = ''; }
        }

        // --- FEEDBACK ---
        function showModal(success, title, msg) {
            const overlay = document.getElementById('overlay');
            const mTitle = document.getElementById('mTitle');
            const mBody = document.getElementById('mBody');
            const mIcon = document.getElementById('mIcon');
            const btnBack = document.getElementById('btnBackMenu');

            mTitle.innerText = title;
            mBody.innerHTML = msg;
            
            if(success) {
                mTitle.style.color = "#28a745";
                mIcon.innerText = "üéâ";
                btnBack.style.display = "inline-block";
            } else {
                mTitle.style.color = "#dc3545";
                mIcon.innerText = "‚ö†Ô∏è";
                btnBack.style.display = "none";
            }
            overlay.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('overlay').style.display = 'none';
        }

        // --- VALIDACIONES ---

        // NIVEL 1: Comprobante MUE (Entrada, No Valorizado)
        function checkLevel1() {
            const mov = document.getElementById('l1_mov').value;
            const val = document.getElementById('l1_val').checked;
            
            if (mov === 'E' && !val) {
                showModal(true, "¬°Excelente!", "Has configurado correctamente el comprobante para ingreso de muestras sin costo.");
            } else {
                let err = "Revisa: <br>";
                if(mov !== 'E') err += "- El movimiento debe ser Entrada.<br>";
                if(val) err += "- No debe ser Valorizado (costo cero).";
                showModal(false, "Incorrecto", err);
            }
        }

        // NIVEL 2: Talonario Interno (Letra X, No Edita, Prox 1)
        function checkLevel2() {
            const letra = document.getElementById('l2_letra').value;
            const edita = document.getElementById('l2_edita').checked;
            const prox = document.getElementById('l2_prox').value;

            if (letra === 'X' && !edita && parseInt(prox) === 1) {
                showModal(true, "¬°Muy bien!", "Talonario interno configurado correctamente con control de numeraci√≥n.");
            } else {
                let err = "Revisa: <br>";
                if(letra !== 'X') err += "- Talonario interno usa Letra X.<br>";
                if(edita) err += "- La numeraci√≥n debe ser autom√°tica (no editar).<br>";
                if(parseInt(prox) !== 1) err += "- Debe comenzar en 1.";
                showModal(false, "Incorrecto", err);
            }
        }

        // NIVEL 3: Operaci√≥n (FAC, Dep 01, Cant > 0)
        function checkLevel3() {
            const comp = document.getElementById('l3_comp').value;
            const dep = document.getElementById('l3_dep').value;
            const cant = document.getElementById('l3_cant').value;

            if (comp === 'FAC' && dep === '01' && cant > 0) {
                showModal(true, "¬°Operaci√≥n Exitosa!", "Ingreso de compra registrado correctamente en Casa Central.");
            } else {
                let err = "Datos err√≥neos: <br>";
                if(comp !== 'FAC') err += "- Usa FAC para valorizar la compra.<br>";
                if(dep !== '01') err += "- El dep√≥sito central es el 01.<br>";
                if(cant <= 0) err += "- Falta ingresar cantidad.";
                showModal(false, "Error al Grabar", err);
            }
        }
    </script>
</body>
</html>